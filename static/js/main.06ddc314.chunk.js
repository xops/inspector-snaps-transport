(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(16)},16:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),s=n(8),c=n(1),i=n(2),u=n(3),p=n(4),d=n(5),f=n(9),h=n(6),m=n(10),l=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this))).uri=void 0,n.uri=e,n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"connect",value:function(){var e=Object(c.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.send({method:"wallet_enable",params:[Object(u.a)({},this.uri,{})]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sendData",value:function(){var e=Object(c.a)(o.a.mark(function e(t){var n=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:5e3,e.abrupt("return",window.ethereum.send({method:this.uri,params:[t.request]}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){}}]),t}(n(7).Transport),w=0,b={connect:function(){var e=Object(c.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new l(t),e.next=3,r.connect();case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),sendData:function(e){if(!r)throw new Error("Not Connected");return r.sendData({internalID:w++,request:e})}};window.addEventListener("message",function(){var e=Object(c.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("origin",t.origin),console.log("data",t.data),"rpc.discover"!==t.data.method){e.next=5;break}return t.source.postMessage({jsonrpc:"2.0",result:i,id:t.data.id},t.origin),e.abrupt("return");case 5:if(b[t.data.method]){e.next=8;break}return window.parent.postMessage({jsonrpc:"2.0",error:{code:32009,message:"Method not found"},id:t.data.id},t.origin),e.abrupt("return");case 8:b[t.data.method].apply(b,Object(s.a)(t.data.params)).then(function(e){window.parent.postMessage({jsonrpc:"2.0",result:e,id:t.data.id},t.origin)}).catch(function(e){t.source.postMessage({jsonrpc:"2.0",error:{code:32329,message:e.message},id:t.data.id},t.origin)});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());t.default={}},2:function(e){e.exports={openrpc:"1.0.0",info:{title:"foo",version:"1.0.0"},methods:[{name:"connect",description:"connect to transport",summary:"connect transport",params:[{name:"uri",description:"the uri to connect to",required:!0,schema:{type:"string",pattern:"^wallet_plugin_http"}}],result:{name:"connected",description:"connected or not",schema:{type:"boolean"}}},{name:"sendData",description:"send data across the transport",params:[{name:"data",description:"data to send",schema:!0}],result:{name:"result",schema:!0}}]}}},[[11,1,2]]]);
//# sourceMappingURL=main.06ddc314.chunk.js.map